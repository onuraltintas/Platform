# Shared (non-secret) environment configuration for all services

# Service discovery (API Gateway -> downstream services)
IDENTITY_SERVICE_URL=http://identity
USER_SERVICE_URL=http://user
IDENTITY_SERVICE_HEALTH_URL=/health

# JWT (non-secret parts)
JWT_ISSUER=PlatformV1
JWT_AUDIENCE=PlatformV1

# CORS
CORS_ORIGINS=http://localhost:4200,http://localhost:3000,https://localhost:3001
ALLOWED_ORIGINS=http://localhost:4200,http://localhost:3000,https://localhost:3001

# Rate limiting (optional)
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Identity password & lockout policy
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_MIN_LENGTH=8
LOCKOUT_DURATION=30
MAX_FAILED_ATTEMPTS=5
ENABLE_EMAIL_CONFIRMATION=true

# Google Auth toggle (client id/secret in secrets.env)
ENABLE_GOOGLE_AUTH=true

# Optional: Caching & Redis tuning (not required by default runtime)
CACHE_DEFAULT_TTL_MINUTES=30
CACHE_MAX_SLIDING_EXPIRATION_MINUTES=60
CACHE_COMPRESSION_ENABLED=true
CACHE_SERIALIZATION_FORMAT=json

# Optional: Redis client advanced settings (if used by client libs)
REDIS_DATABASE=0
REDIS_SSL=false
REDIS_CONNECT_RETRY=3
REDIS_CONNECT_TIMEOUT=5000
REDIS_SYNC_TIMEOUT=5000
REDIS_ASYNC_TIMEOUT=5000
REDIS_ABORT_ON_CONNECT_FAIL=false

# Optional: Health/Logging knobs (unused unless wired in code)
HEALTH_CHECK_TIMEOUT_SECONDS=5
HEALTH_CHECK_REDIS_ENABLED=true
LOGGING_LEVEL=Information
LOGGING_CACHE_OPERATIONS=true
LOGGING_REDIS_COMMANDS=false

# Google OAuth redirect URI (local dev via gateway)
GOOGLE_REDIRECT_URI=http://localhost:5001/api/v1/auth/google/callback
